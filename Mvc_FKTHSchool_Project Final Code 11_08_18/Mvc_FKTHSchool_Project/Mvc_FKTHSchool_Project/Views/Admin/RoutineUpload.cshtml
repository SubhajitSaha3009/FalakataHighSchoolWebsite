@model Mvc_FKTHSchool_Project.Models.RoutineModel

@{
    ViewBag.Title = "RoutineUpload";
    Layout = "~/Views/Shared/myLayout_Admin.cshtml";
}

<script>
$(document).on('invalid-form.validate', 'form', function () {
    var button = $(this).find('input[type="submit"]');
    setTimeout(function () {
        button.removeAttr('disabled');
    }, 1);
});
$(document).on('submit', 'form', function () {
    var button = $(this).find('input[type="submit"]');
    setTimeout(function () {
        button.attr('disabled', 'disabled');
    }, 0);
});
</script>



<div class="g-bg-color--sky-light">
    <div class="container g-padding-y-20--xs g-padding-y-40--sm">

        <center><i style="color:red; font-size:25px;"> @ViewBag.Error</i></center>

@using (Html.BeginForm("RoutineUpload", "Admin", FormMethod.Post, new { enctype = "multipart/form-data" }))
{
    @Html.AntiForgeryToken()
    @Html.ValidationSummary(true)
  
        <fieldset>
            <center> <legend><h2><b>Routine Upload</b></h2></legend></center>
            <table align="center">
                <tr>
                    <td>
                        <div class="editor-label">
                            @Html.LabelFor(model => model.TeacherId)
                        </div>
                    </td>
                    <td>
                        <div class="g-margin-b-20--xs">
                            @Html.TextBox("TeacherID", @User.Identity.Name, new { @Class = "form-control s-form-v2__input g-radius--50", @readonly = "readonly" })
                            @*@User.Identity.Name*@
                            @*@Html.EditorFor(model => model.TeacherId)
            @Html.ValidationMessageFor(model => model.TeacherId)*@
                        </div>
                    </td>
                </tr>

                @*<div class="editor-label">
                @Html.LabelFor(model => model.TeacherName)
            </div>
            <div class="editor-field">
                @Html.EditorFor(model => model.TeacherName)
                @Html.ValidationMessageFor(model => model.TeacherName)
            </div>*@
                <tr>
                    <td>
                        <div class="editor-label">
                            @Html.LabelFor(model => model.RoutineForClass)
                        </div>
                    </td>
                    <td>
                        <div class="g-margin-b-20--xs">
                            <div class="editor-field">
                                @Html.DropDownList("RoutineForClass", ViewBag.classSelection as List<SelectListItem>, new { @Class = "form-control s-form-v2__input g-radius--50" })
                                @*@Html.EditorFor(model => model.RoutineForClass)*@

                               
                            </div>
                            </div>
                    </td>
                    <td style="color:red;">
                        <b>@Html.ValidationMessageFor(model => model.RoutineForClass)</b>

                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="editor-label">
                            @Html.LabelFor(model => model.RoutineForSection)
                        </div>
                    </td>
                    <td>
                        <div class="g-margin-b-20--xs">
                            <div class="editor-field">
                                @Html.DropDownList("RoutineForSection", ViewBag.sec as List<SelectListItem>, new { @Class = "form-control s-form-v2__input g-radius--50" })
                                @*@Html.TextBoxFor(model => model.RoutineForSection, new { @Class = "form-control s-form-v2__input g-radius--50" })*@
                               
                            </div>
                        </div>
                    </td>
                    <td style="color:red;">
                        <b>
                            @Html.ValidationMessageFor(model => model.RoutineForSection)
                            @ViewBag.errmsg
                        </b>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="editor-label">
                            @Html.LabelFor(model => model.File)
                        </div>
                    </td>
                    <td>
                        <div class="g-margin-b-20--xs">
                            <div class="editor-field">
                                @Html.TextBoxFor(model => model.File, new { type = "file", @Class = "form-control s-form-v2__input g-radius--50" })
                                @*<input type="file" name="File" class="form-control s-form-v2__input g-radius--50" />*@
                                
                            </div>
                            </div>
                    </td>
                    <td style="color:red;">
                        <b>@Html.ValidationMessageFor(model => model.File)</b>

                    </td>
                </tr>
                @*<tr>
                    <td>
                        <div class="editor-label">
                            @Html.LabelFor(model => model.RoutineDate)
                        </div>
                    </td>
                    <td>
                        <div class="g-margin-b-20--xs">
                            <div class="editor-field">
                                <input type="date" name="RoutineDate" class="form-control s-form-v2__input g-radius--50" />
                                @Html.ValidationMessageFor(model => model.RoutineDate)
                            </div>
                            </div>
                     </td>
                </tr>*@

                <tr>
                    <td></td>
                    <td>
                        <input type="submit" value="Submit" class="text-uppercase s-btn s-btn--md s-btn--primary-bg g-radius--50 g-padding-x-70--xs g-margin-b-20--xs" />

                    </td>
                </tr>
                
            </table>
</fieldset>
   
}

   </div>
</div>